{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return O}));var c=n(\"q1tI\"),i=n(\"/MKj\"),a=n(\"1zst\"),r=n(\"rePB\"),o=n(\"ODXe\"),l=n(\"Vl3Y\"),s=n(\"5rEg\"),u=n(\"2/Rp\"),d=n(\"3zrx\"),j=n(\"p+NB\"),b=n(\"nKUr\"),f=function(){var e,t=Object(i.c)((function(e){return e.post})),n=t.imagePaths,a=t.addPostDone,f=Object(i.b)(),p=Object(d.a)(\"\"),O=Object(o.a)(p,3),h=O[0],m=O[1],v=O[2];Object(c.useEffect)((function(){a&&v(\"\")}),[a]);var w=Object(c.useCallback)((function(){if(!h||!h.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694.\");var e=new FormData;n.forEach((function(t){e.append(\"image\",t)})),e.append(\"content\",h),f({type:j.e,data:e})}),[h,n]),x=Object(c.useRef)(),g=Object(c.useCallback)((function(){x.current.click()}),[x.current]),E=Object(c.useCallback)((function(e){console.log(\"images\",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append(\"image\",e)})),f({type:j.G,data:t})})),_=Object(c.useCallback)((function(e){return function(){f({type:j.v,data:e})}}));return Object(b.jsxs)(l.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:w,children:[Object(b.jsx)(s.a.TextArea,{value:h,name:\"image\",onChange:m,placeholder:\"\\ubb34\\uc2a8\\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc694?\",maxLength:140}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"input\",{type:\"file\",multiple:!0,hidden:!0,ref:x,onChange:E}),Object(b.jsx)(u.a,{onClick:g,children:\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"}),Object(b.jsx)(u.a,(e={style:\"primary\"},Object(r.a)(e,\"style\",{float:\"right\"}),Object(r.a)(e,\"htmlType\",\"submit\"),Object(r.a)(e,\"children\",\"\\uc9f9\\uc9f9\"),e))]}),Object(b.jsx)(\"div\",{children:n.map((function(e,t){return Object(b.jsxs)(\"div\",{style:{display:\"inline-block\"},children:[Object(b.jsx)(\"img\",{src:\"http://localhost:3065/\".concat(e),style:{width:\"200px\"},alt:e}),Object(b.jsx)(\"div\",{children:Object(b.jsx)(u.a,{onClick:_(t),children:\"\\uc81c\\uac70\"})})]},e)}))})]})},p=n(\"kduo\"),O=!0;t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user})).me,n=Object(i.c)((function(e){return e.post})),r=n.mainPosts,o=n.hasMorePost,l=n.loadPostsLoading,s=n.retweetError;return Object(c.useEffect)((function(){s&&alert(s)}),[s]),Object(c.useEffect)((function(){function t(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&o&&!l){var t,n=null===(t=r[r.length-1])||void 0===t?void 0:t.id;e({type:j.n,lastId:n})}}return window.addEventListener(\"scroll\",t),function(){window.removeEventListener(\"scroll\",t)}}),[o,l,r]),Object(b.jsxs)(a.a,{children:[t&&Object(b.jsx)(f,{}),r.map((function(e,t){return Object(b.jsx)(p.a,{post:e},e.id)}))]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,2,8,1,3,4,5,6,7,9]]]);","map":{"version":3,"sources":["static/chunks/pages/index-a238a17a7588e80f94e5.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","es","AppLayout","defineProperty","slicedToArray","es_form","input","es_button","useInput","reducers_post","jsx_runtime","components_PostForm","_jsx2","_useSelector","Object","state","post","imagePaths","addPostDone","dispatch","_useInput","_useInput2","text","onChangeText","setText","onSubmit","trim","alert","formData","FormData","forEach","p","append","type","data","imageInput","onClickImageUpload","current","click","onChangeImages","e","console","log","target","files","imageFormData","call","f","onRemoveImage","index","style","margin","encType","onFinish","children","TextArea","value","name","onChange","placeholder","maxLength","multiple","hidden","ref","onClick","float","map","v","i","display","src","concat","width","alt","PostCard","me","user","_useSelector2","mainPosts","hasMorePost","loadPostsLoading","retweetError","onScroll","scrollY","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","length","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}