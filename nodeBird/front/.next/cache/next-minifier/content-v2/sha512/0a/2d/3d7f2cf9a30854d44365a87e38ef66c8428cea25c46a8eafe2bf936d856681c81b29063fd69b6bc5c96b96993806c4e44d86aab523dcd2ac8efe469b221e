{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{\"W+IF\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return ve}));var r=n(\"q1tI\"),i=n(\"8Kt/\"),u=n.n(i),a=n(\"nOHt\"),o=n.n(a),c=n(\"/MKj\"),l=n(\"vDqi\"),s=n.n(l),f=Object.prototype.hasOwnProperty;function d(e,t,n,r){return new(n||(n=Promise))((function(i,u){function a(e){try{c(r.next(e))}catch(e){u(e)}}function o(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function b(e,t){var n,r,i,u,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},\"function\"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(u){return function(o){return function(u){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}}var h={}[0],v=function(e){return e===h},g=function(e){return\"function\"==typeof e},p=function(){},j=function(e,t){return Object.assign({},e,t)},O=!0,m=\"undefined\"!=typeof window,y=\"undefined\"!=typeof document,w=m&&window.addEventListener||p,x=y&&document.addEventListener||p,k={isOnline:function(){return O},isVisible:function(){var e=y&&document.visibilityState;return!!v(e)||\"hidden\"!==e}},S={initFocus:function(e){x(\"visibilitychange\",e),w(\"focus\",e)},initReconnect:function(e){w(\"online\",(function(){O=!0,e()})),w(\"offline\",(function(){O=!1}))}},C=\"undefined\"==typeof window||\"Deno\"in window,E=C?null:window.requestAnimationFrame,R=E?function(e){return E(e)}:function(e){return setTimeout(e,1)},V=C?r.useEffect:r.useLayoutEffect,T=\"undefined\"!=typeof navigator&&navigator.connection,_=!C&&T&&([\"slow-2g\",\"2g\"].includes(T.effectiveType)||T.saveData),I=new WeakMap,M=0;function F(e){if(g(e))try{e=e()}catch(t){e=\"\"}var t;return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return\"\";for(var t=\"arg\",n=0;n<e.length;++n){var r=e[n],i=h;null===r||\"object\"!=typeof r&&!g(r)?i=JSON.stringify(r):I.has(r)?i=I.get(r):(i=M,I.set(r,M++)),t+=\"$\"+i}return t}(e)):t=[e=String(e||\"\")],[e,t,e?\"$err$\"+e:\"\",e?\"$req$\"+e:\"\"]}var D=new WeakMap,P=function(e,t,n,r,i,u){void 0===u&&(u=!1);var a=D.get(e),o=a[0],c=a[1],l=o[t],s=c[t];if(s)for(var f=0;f<s.length;++f)s[f](n,r,i);return u&&l&&l[0]?l[0](2).then((function(){return e.get(t)})):e.get(t)},N=0,B=function(){return++N},L=function(e,t,n,r){return void 0===r&&(r=!0),d(void 0,void 0,void 0,(function(){var i,u,a,o,c,l,s,f,d,p,j;return b(this,(function(b){switch(b.label){case 0:if(i=F(t),u=i[0],a=i[2],!u)return[2];if(o=D.get(e),c=o[2],l=o[3],v(n))return[2,P(e,u,e.get(u),e.get(a),h,r)];if(d=c[u]=B(),l[u]=0,g(n))try{n=n(e.get(u))}catch(e){n=h,f=e}if(!n||!g(n.then))return[3,5];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,n];case 2:return s=b.sent(),[3,4];case 3:return p=b.sent(),f=p,[3,4];case 4:if(d!==c[u]){if(f)throw f;return[2,s]}return[3,6];case 5:s=n,b.label=6;case 6:return v(s)||e.set(u,s),e.set(a,f),l[u]=B(),[4,P(e,u,s,f,h,r)];case 7:if(j=b.sent(),f)throw f;return[2,j]}}))}))};function W(e,t){for(var n in e)e[n][0]&&e[n][0](t)}function z(e,t){if(!D.has(e)){var n=j(S,t),r={},i=L.bind(h,e);return D.set(e,[r,{},{},{},{},{},i]),C||(n.initFocus(W.bind(h,r,0)),n.initReconnect(W.bind(h,r,1))),[e,i]}}var A=z(new Map),q=A[0],$=A[1],X=j({onLoadingSlow:p,onSuccess:p,onError:p,onErrorRetry:function(e,t,n,r,i){if(k.isVisible()){var u=n.errorRetryCount,a=i.retryCount,o=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!v(u)&&a>u||setTimeout(r,o,i)}},revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:_?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:_?5e3:3e3,compare:function e(t,n){var r,i;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((i=t.length)===n.length)for(;i--&&e(t[i],n[i]););return-1===i}if(!r||\"object\"===typeof t){for(r in i=0,t){if(f.call(t,r)&&++i&&!f.call(n,r))return!1;if(!(r in n)||!e(t[r],n[r]))return!1}return Object.keys(n).length===i}}return t!==t&&n!==n},isPaused:function(){return!1},cache:q,mutate:$,fallback:{}},k);function G(e,t){var n=j(e,t);if(!t)return n;var r=e.use,i=e.fallback,u=t.use,a=t.fallback;return r&&u&&(n.use=r.concat(u)),i&&a&&(n.fallback=j(i,a)),n}var J=Object(r.createContext)({});function K(e){return g(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]}var H,U=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},Y={dedupe:!0},Q=(Object.defineProperty((function(e){var t=e.children,n=e.value,i=G(Object(r.useContext)(J),n),u=n&&n.provider,a=Object(r.useState)((function(){return u?z(u(i.cache||q),n):h}))[0];return a&&(i.cache=a[0],i.mutate=a[1]),Object(r.createElement)(J.Provider,{value:i},t)}),\"default\",{value:X}),H=function(e,t,n){var i=n.cache,u=n.compare,a=n.fallbackData,o=n.suspense,c=n.revalidateOnMount,l=n.refreshInterval,s=n.refreshWhenHidden,f=n.refreshWhenOffline,g=D.get(i),p=g[0],O=g[1],m=g[2],y=g[3],w=g[4],x=g[5],k=F(e),S=k[0],E=k[1],T=k[2],_=k[3],I=Object(r.useRef)(!1),M=Object(r.useRef)(!1),N=Object(r.useRef)(S),W=Object(r.useRef)(n),z=function(){return W.current},A=i.get(S),q=v(a)?n.fallback[S]:a,$=v(A)?q:A,X=i.get(T);if(o&&(!S||!t))throw new Error(\"useSWR requires either key or fetcher with suspense mode\");var G=function(){return v(c)?o?!I.current&&!v($):v($)||n.revalidateIfStale:c},J=!(!S||!t)&&(!!i.get(_)||!I.current&&G()),K=function(e,t){var n=Object(r.useState)({})[1],i=Object(r.useRef)(e),u=Object(r.useRef)({data:!1,error:!1,isValidating:!1}),a=Object(r.useCallback)((function(e){var r=!1,a=i.current;for(var o in e){var c=o;a[c]!==e[c]&&(a[c]=e[c],u.current[c]&&(r=!0))}r&&!t.current&&n({})}),[]);return V((function(){i.current=e})),[i,u.current,a]}({data:$,error:X,isValidating:J},M),H=K[0],Q=K[1],Z=K[2],ee=Object(r.useCallback)((function(e){return d(void 0,void 0,void 0,(function(){var r,a,o,c,l,s,f,d,g;return b(this,(function(b){switch(b.label){case 0:if(!S||!t||M.current||z().isPaused())return[2,!1];o=!0,c=e||{},l=!v(w[S])&&c.dedupe,s=function(){return!M.current&&S===N.current&&I.current},f=function(){delete w[S],delete x[S]},b.label=1;case 1:return b.trys.push([1,6,,7]),i.set(_,!0),Z({isValidating:!0}),l||P(i,S,H.current.data,H.current.error,!0),l?(a=x[S],[4,w[S]]):[3,3];case 2:return r=b.sent(),[3,5];case 3:return n.loadingTimeout&&!i.get(S)&&setTimeout((function(){o&&s()&&z().onLoadingSlow(S,n)}),n.loadingTimeout),x[S]=a=B(),[4,w[S]=t.apply(t,E)];case 4:r=b.sent(),setTimeout((function(){x[S]===a&&f()}),n.dedupingInterval),s()&&z().onSuccess(r,S,n),b.label=5;case 5:return x[S]!==a?[2,!1]:(i.set(T,h),i.set(_,!1),d={isValidating:!1},!v(m[S])&&(a<=m[S]||a<=y[S]||0===y[S])?(Z(d),[2,!1]):(v(H.current.error)||(d.error=h),u(H.current.data,r)||(d.data=r),u(i.get(S),r)||i.set(S,r),Z(d),l||P(i,S,r,d.error,!1),[3,7]));case 6:return g=b.sent(),f(),i.set(_,!1),z().isPaused()?(Z({isValidating:!1}),[2,!1]):(i.set(T,g),H.current.error!==g&&(Z({isValidating:!1,error:g}),l||P(i,S,h,g,!1)),s()&&(z().onError(g,S,n),n.shouldRetryOnError&&z().onErrorRetry(g,S,n,ee,{retryCount:(c.retryCount||0)+1,dedupe:!0})),[3,7]);case 7:return o=!1,[2,!0]}}))}))}),[S]),te=Object(r.useCallback)((function(e,t){return L(i,N.current,e,t)}),[]);if(V((function(){W.current=n})),V((function(){if(S){var e=I.current,t=ee.bind(h,Y),n=function(){return z().isVisible()&&z().isOnline()},r=0,i=U(S,O,(function(e,t,n){Z(j({error:t,isValidating:n},u(e,H.current.data)?null:{data:e}))})),a=U(S,p,(function(e){if(0===e){var i=Date.now();z().revalidateOnFocus&&i>r&&n()&&(r=i+z().focusThrottleInterval,t())}else if(1===e)z().revalidateOnReconnect&&n()&&t();else if(2===e)return ee()}));return M.current=!1,N.current=S,e&&Z({data:$,error:X,isValidating:J}),G()&&(v($)||C?t():R(t)),I.current=!0,function(){M.current=!0,i(),a()}}}),[S,ee]),V((function(){var e;function t(){l&&-1!==e&&(e=setTimeout(n,l))}function n(){H.current.error||!s&&!z().isVisible()||!f&&!z().isOnline()?t():ee(Y).then((function(){return t()}))}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[l,s,f,ee]),Object(r.useDebugValue)($),o&&v($))throw v(X)?ee(Y):X;return{mutate:te,get data(){return Q.data=!0,$},get error(){return Q.error=!0,X},get isValidating(){return Q.isValidating=!0,J}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=K(e),i=n[0],u=n[1],a=n[2],o=j(X,Object(r.useContext)(J)),c=G(o,a),l=H,s=c.use;if(s)for(var f=s.length;f-- >0;)l=s[f](l);return l(i,u||c.fetcher,c)}),Z=n(\"1zst\"),ee=n(\"ODXe\"),te=n(\"Vl3Y\"),ne=n(\"5rEg\"),re=n(\"3zrx\"),ie=n(\"LAVF\"),ue=n(\"nKUr\"),ae=function(){var e=Object(c.c)((function(e){return e.user})).me,t=Object(re.a)((null===e||void 0===e?void 0:e.nickname)||\"\"),n=Object(ee.a)(t,2),i=n[0],u=n[1],a=Object(c.b)(),o=Object(r.useCallback)((function(){a({type:ie.c,data:i})}),[i]),l=Object(r.useMemo)((function(){return{marginBottom:\"20px\",border:\"1px solid #d9d9d9\",padding:\"20px\"}}),[]);return Object(ue.jsx)(te.a,{style:l,children:Object(ue.jsx)(ne.a.Search,{value:i,onChange:u,onSearch:o,addonBefore:\"\\ub2c9\\ub124\\uc784\",enterButton:\"\\uc218\\uc815\"})})},oe=n(\"VXEj\"),ce=n(\"2/Rp\"),le=n(\"bx4M\"),se={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z\"}}]},name:\"stop\",theme:\"outlined\"},fe=n(\"6VBw\"),de=function(e,t){return r.createElement(fe.a,Object.assign({},e,{ref:t,icon:se}))};de.displayName=\"StopOutlined\";var be=r.forwardRef(de),he=function(e){var t=e.header,n=e.data,r=e.onClickMore,i=e.loading,u=e.mutateFollowing,a=e.mutateFollower,o=Object(c.b)();return Object(ue.jsx)(oe.b,{style:{marginBottom:20},grid:{gutter:4,xs:2,md:3},size:\"small\",header:Object(ue.jsx)(\"div\",{children:t}),loadMore:Object(ue.jsx)(\"div\",{style:{textAlign:\"center\",margin:\"10px 0\"},children:Object(ue.jsx)(ce.a,{onClick:r,loading:i,children:\"\\ub354 \\ubcf4\\uae30\"})}),bordered:!0,dataSource:n,renderItem:function(e){return Object(ue.jsx)(oe.b.Item,{style:{marginTop:20},children:Object(ue.jsx)(le.a,{actions:[Object(ue.jsx)(be,{onClick:(n=e.id,function(){\"\\ud314\\ub85c\\uc789\"===t?(o({type:ie.B,data:n}),u((function(e){return e.filter((function(e){return e.id!==n}))}))):(o({type:ie.u,data:n}),a((function(e){return e.filter((function(e){return e.id!==n}))})))})},\"stop\")],children:Object(ue.jsx)(le.a.Meta,{description:e.nickname})})});var n}})},ve=!0;t.default=function(){var e=Object(c.c)((function(e){return e.user})).me,t=Object(r.useState)(3),n=t[0],i=t[1],a=Object(r.useState)(3),l=a[0],f=a[1],d=function(e){return s.a.get(e,{withCredentials:!0}).then((function(e){return e.data}))},b=Q(\"http://localhost:3065/user/followers?limit=\".concat(n),d),h=b.data,v=b.error,g=b.mutate,p=Q(\"http://localhost:3065/user/followings?limit=\".concat(l),d),j=p.data,O=p.error,m=p.mutate;Object(r.useEffect)((function(){e&&e.id||o.a.push(\"/\")}),[e&&e.id]);var y=Object(r.useCallback)((function(){f((function(e){return e+3}))}),[]),w=Object(r.useCallback)((function(){i((function(e){return e+3}))}),[]);return e?v||O?(console.error(v||O),\"\\ud314\\ub85c\\uc789/\\ud314\\ub85c\\uc6cc \\ub85c\\ub529 \\uc911 \\uc5d0\\ub7ec\\uac00 \\ubc1c\\uc0dd\\ud588\\uc2b5\\ub2c8\\ub2e4.\"):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(u.a,{children:Object(ue.jsx)(\"title\",{children:\"\\ub0b4 \\ud504\\ub85c\\ud544 | NodeBird\"})}),Object(ue.jsxs)(Z.a,{children:[Object(ue.jsx)(ae,{}),Object(ue.jsx)(he,{header:\"\\ud314\\ub85c\\uc789\",data:j,onClickMore:y,loading:!j&&!O,mutateFollowing:m}),Object(ue.jsx)(he,{header:\"\\ud314\\ub85c\\uc6cc\",data:h,onClickMore:w,loading:!h&&!v,mutateFollower:g})]})]}):\"\\ub0b4 \\uc815\\ubcf4 \\ub85c\\ub529\\uc911...\"}},u1GD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/profile\",function(){return n(\"W+IF\")}])}},[[\"u1GD\",0,2,1,3,4,5,6,7,10]]]);","extractedComments":[]}